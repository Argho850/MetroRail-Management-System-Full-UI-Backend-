{% extends 'base.html' %}
{% block title %}Admin Panel{% endblock %}
{% block content %}
<div class="panel">
   <h2>Admin Panel</h2>


    <h3 style="margin-bottom: 20px;">system-wallet: BDT {{ system_wallet.balance}}</h3>

   
   <h3>Add New Admin</h3>
   <form method="POST" action="{{ url_for('add_admin') }}">
       <input type="text" name="username" placeholder="Username" required>
       <input type="password" name="password" placeholder="Password" required>
       <button type="submit">Add Admin</button>
   </form>
   
   <h3>Admins</h3>
   <table>
       <tr>
           <th>ID</th>
           <th>Username</th>
           <th>Action</th>
       </tr>
       {% for admin in admins %}
       <tr>
           <td>{{ admin.id }}</td>
           <td>{{ admin.username }}</td>
           <td>
               <a href="{{ url_for('remove_admin', admin_id=admin.id) }}" onclick="return confirmAction('Are you sure you want to remove this admin?')">Remove</a>
           </td>
       </tr>
       {% endfor %}
   </table>
   
   <h3>Add Train</h3>
   <form method="POST" action="{{ url_for('add_train') }}">
       <input type="text" name="train_number" placeholder="Train Number" required>
       <input type="text" name="train_name" placeholder="Train Name" required>
       <input type="text" name="source" placeholder="Source" required>
       <input type="text" name="destination" placeholder="Destination" required>
       <input type="datetime-local" name="departure_time" required>
       <input type="number" name="fare" placeholder="Fare" step="0.01" required>
       <button type="submit">Add Train</button>
   </form>
   
   <h3>Trains</h3>
   <table>
       <tr>
           <th>ID</th>
           <th>Train Number</th>
           <th>Name</th>
           <th>Source</th>
           <th>Destination</th>
           <th>Departure</th>
           <th>Fare</th>
           <th>Action</th>
       </tr>
       {% for train in trains %}
       <tr>
           <td>{{ train.id }}</td>
           <td>{{ train.train_number }}</td>
           <td>{{ train.train_name }}</td>
           <td>{{ train.source }}</td>
           <td>{{ train.destination }}</td>
           <td>{{ train.departure_time }}</td>
           <td>{{ train.fare }}</td>
           <td>
               <a href="{{ url_for('remove_train', train_id=train.id) }}" onclick="return confirmAction('Are you sure you want to remove this train?')">Remove</a>
           </td>
       </tr>
       {% endfor %}
   </table>
   
   
   <h3>Users</h3>
   <table>
       <tr>
           <th>ID</th>
           <th>Username</th>
           <th>Email</th>
           <th>Balance</th>
       </tr>
       {% for user in users %}
       <tr>
           <td>{{ user.id }}</td>
           <td>{{ user.username }}</td>
           <td>{{ user.email }}</td>
           <td>{{ user.balance }}</td>
       </tr>
       {% endfor %}
   </table>
   
   <h3>Feedback</h3>
   <table>
       <tr>
           <th>ID</th>
           <th>User ID</th>
           <th>Feedback</th>
           <th>Submitted At</th>
       </tr>
       {% for fb in feedback %}
       <tr>
           <td>{{ fb.id }}</td>
           <td>{{ fb.user_id }}</td>
           <td>{{ fb.feedback }}</td>
           <td>{{ fb.submitted_at }}</td>
       </tr>
       {% endfor %}
   </table>


</div>
{% endblock %}